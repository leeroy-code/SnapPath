# 快速开始

> 从源码构建 SnapPath 并完成第一次截图。

## 1. 构建

### 前置要求

- macOS 11.5 或更高版本
- Xcode 14.0 或更高版本
- 有效的 Apple Developer 账号（用于签名）

### 构建步骤

```bash
git clone <repo-url>
cd SnapPath
xcodebuild -project SnapPath.xcodeproj -scheme SnapPath -configuration Debug build
```

或在 Xcode 中打开 `SnapPath.xcodeproj`，直接 `⌘R` 运行。

### 首次运行注意事项

- 由于应用需要屏幕录制权限，在 Debug 模式下运行时可能需要先在"系统设置 → 隐私与安全性 → 屏幕录制"中手动添加并启用 Xcode 或 Terminal 的权限
- 应用为纯菜单栏应用，启动后不会显示 Dock 图标，请在菜单栏右侧查找相机图标

## 2. 授予必要权限

### 屏幕录制权限（必需）

首次启动时，SnapPath 会弹窗提示需要屏幕录制权限。点击引导按钮后：

1. 系统设置 → 隐私与安全性 → 屏幕录制
2. 找到 SnapPath，开启开关
3. 如果提示需要重启应用，退出后重新启动即可

> 没有这个权限，截图功能无法工作。这是 macOS 的系统级限制。

### Finder 自动化权限（可选）

使用"复制 Finder 选中项路径"功能（快捷键 `⌘⇧C`）时，需要授予自动化权限以访问 Finder：

1. 首次使用该功能时会弹出权限提示
2. 系统设置 → 隐私与安全性 → 自动化
3. 找到 SnapPath，启用"Finder"选项

> 此权限仅用于获取 Finder 中选中的文件路径，不会访问其他应用数据。

## 3. 初始配置

首次启动后，建议先进行以下配置：

### 设置截图保存位置

1. 点击菜单栏 SnapPath 图标 → Settings...
2. 在左侧选择"保存位置"
3. 点击"选择"按钮，设置截图文件的默认保存目录
4. 默认为 `~/Downloads`

### 配置快捷键

在设置面板的"快捷键"标签页中，可以自定义以下功能的快捷键：

| 功能 | 默认快捷键 | 说明 |
|------|-----------|------|
| 区域截图 | `⌘⇧S` | 选择屏幕区域进行截图 |
| 全屏截图 | `⌘⇧A` | 截取整个屏幕 |
| 窗口截图 | `⌘⇧W` | 选择特定窗口进行截图 |
| 固定截图 | `⌘⇧P` | 截图并固定为浮动窗口 |
| 复制 Finder 路径 | `⌘⇧C` | 复制 Finder 选中文件的路径 |

### 其他设置选项

- **启动时登录**：开机自动启动 SnapPath
- **截图后显示编辑器**：截图后是否弹出编辑窗口（默认开启）
- **播放音效**：截图成功时播放提示音（默认开启）
- **显示通知**：截图完成后显示系统通知（默认开启）
- **自动检查更新**：启动时自动检查新版本（默认开启）
- **语言**：支持简体中文和英文切换

## 4. 第一次截图

启动后，菜单栏出现 SnapPath 图标。按下 `⌘⇧S`（Command + Shift + S）：

1. 屏幕出现半透明遮罩和十字准星
2. 拖拽选择截图区域，松开鼠标完成截图
3. 按 `ESC` 可随时取消

截图完成后：
- 如果开启了"截图后显示编辑器"（默认开启），会弹出编辑窗口，可以添加箭头、矩形、文字标注或裁剪
- 点击 "Copy Path" 保存文件并复制路径，或点击 "Copy Image" 直接复制图片到剪贴板
- 文件保存到设置的目录（默认为 `~/Downloads/screenshot_YYYY-MM-DD_HH-mm-ss.png`）
- 文件路径已自动复制到剪贴板
- 系统通知确认截图成功

现在打开终端，`Cmd+V` 粘贴，你会看到类似：

```
/Users/yourname/Downloads/screenshot_2025-01-15_14-30-25.png
```

这个路径可以直接粘贴给 Claude Code、Cursor 等 AI CLI 工具。

## 5. 截图编辑功能

截图后弹出的编辑器提供以下功能：

### 标注工具
- **箭头**：添加指向性箭头标注
- **矩形**：添加矩形框选标注
- **文字**：添加文字说明（支持 12/16/24/36/48 字号）
- **裁剪**：裁剪截图区域

### 操作按钮
- **撤销**（`⌘Z`）：撤销上一步操作
- **固定到屏幕**：将编辑后的截图固定为浮动窗口
- **OCR 识别**：识别截图中的文字并复制到剪贴板（支持中英文）
- **复制路径**（`⌘S`）：保存并复制文件路径
- **复制图片**（`⌘C` 或 `↩`）：复制图片到剪贴板
- **取消**（`ESC` 或 `⌘W`）：放弃当前截图

### 颜色和样式
- 标注颜色可通过颜色选择器自定义
- 文字大小可通过下拉菜单选择

## 6. 其他截图模式

### 全屏截图（`⌘⇧A`）
截取当前鼠标所在屏幕的全部内容，直接进入编辑器或保存（取决于设置）。

### 窗口截图（`⌘⇧W`）
点击选择特定窗口进行截图，适合截取应用窗口而不包含背景。

### 固定截图（`⌘⇧P`）
选择区域后，截图会作为浮动窗口固定在屏幕上：
- 滚轮缩放调整大小
- 拖拽移动位置
- 右键菜单支持复制图片、保存并复制路径、调整透明度（25%/50%/75%/100%）
- 双击或 `ESC` 关闭窗口

## 7. Finder 路径复制（`⌘⇧C`）

在 Finder 中选中文件或文件夹后，按下 `⌘⇧C`：
- 自动复制选中项的绝对路径到剪贴板
- 支持多选，多个路径会以换行分隔
- 需要授予 Finder 自动化权限

## 常见问题

### 截图是黑屏 / 截图失败

屏幕录制权限未正确授予。前往 系统设置 → 隐私与安全性 → 屏幕录制，确认 SnapPath 已开启。修改权限后需要重启应用。

### 菜单栏看不到图标

SnapPath 是纯菜单栏应用，不会出现在 Dock 栏。检查菜单栏右侧是否有相机图标。如果菜单栏空间不足，图标可能被系统隐藏。

### 快捷键没有反应

可能与其他应用的快捷键冲突。打开 SnapPath 设置（菜单栏图标 → Settings...），在 Keyboard Shortcuts 区域重新录制快捷键。

### OCR 识别失败
- 确保截图中包含清晰的文字
- OCR 支持中英文识别
- 识别成功后会自动关闭编辑器并复制文字到剪贴板

### 固定窗口无法关闭
- 双击窗口任意位置
- 按 `ESC` 键
- 点击右上角的图钉图标
- 右键选择"关闭"

### 更新检查失败
- 检查网络连接
- 自动更新功能需要访问 GitHub releases 页面
- 可手动点击菜单栏中的"检查更新"

---

[← 返回首页](README.md) · [使用指南 →](usage-guide.md)
